(self["webpackChunknovavax_finder"]=self["webpackChunknovavax_finder"]||[]).push([[784],{2573:function(t,e,n){var r=n(6213),o=n(9159),i=r(o,"DataView");t.exports=i},809:function(t,e,n){var r=n(6213),o=n(9159),i=r(o,"Promise");t.exports=i},1611:function(t,e,n){var r=n(6213),o=n(9159),i=r(o,"Set");t.exports=i},6355:function(t,e,n){var r=n(8082),o=n(868),i=n(8451);function a(t){var e=-1,n=null==t?0:t.length;this.__data__=new r;while(++e<n)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},4614:function(t,e,n){var r=n(5094),o=n(846),i=n(1353),a=n(2334),u=n(252),s=n(1538);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype["delete"]=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},6522:function(t,e,n){var r=n(9159),o=r.Uint8Array;t.exports=o},3147:function(t,e,n){var r=n(6213),o=n(9159),i=r(o,"WeakMap");t.exports=i},4802:function(t){function e(t,e){var n=-1,r=null==t?0:t.length,o=0,i=[];while(++n<r){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}t.exports=e},5043:function(t){function e(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}t.exports=e},4427:function(t,e,n){var r=n(1686),o=r();t.exports=o},6380:function(t,e,n){var r=n(4427),o=n(4337);function i(t,e){return t&&r(t,e,o)}t.exports=i},6699:function(t,e,n){var r=n(8196),o=n(6602);function i(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}t.exports=i},3409:function(t,e,n){var r=n(941),o=n(4430);function i(t,e,n,a,u){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:r(t,e,n,a,i,u))}t.exports=i},941:function(t,e,n){var r=n(4614),o=n(475),i=n(4673),a=n(6472),u=n(453),s=n(6602),c=n(1976),f=n(6965),l=1,v="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype,_=h.hasOwnProperty;function b(t,e,n,h,b,w){var g=s(t),y=s(e),x=g?p:u(t),j=y?p:u(e);x=x==v?d:x,j=j==v?d:j;var m=x==d,k=j==d,S=x==j;if(S&&c(t)){if(!c(e))return!1;g=!0,m=!1}if(S&&!m)return w||(w=new r),g||f(t)?o(t,e,n,h,b,w):i(t,e,x,n,h,b,w);if(!(n&l)){var z=m&&_.call(t,"__wrapped__"),D=k&&_.call(e,"__wrapped__");if(z||D){var O=z?t.value():t,L=D?e.value():e;return w||(w=new r),b(O,L,n,h,w)}}return!!S&&(w||(w=new r),a(t,e,n,h,b,w))}t.exports=b},1955:function(t,e,n){var r=n(4614),o=n(3409),i=1,a=2;function u(t,e,n,u){var s=n.length,c=s,f=!u;if(null==t)return!c;t=Object(t);while(s--){var l=n[s];if(f&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++s<c){l=n[s];var v=l[0],p=t[v],d=l[1];if(f&&l[2]){if(void 0===p&&!(v in t))return!1}else{var h=new r;if(u)var _=u(p,d,v,t,e,h);if(!(void 0===_?o(d,p,i|a,u,h):_))return!1}}return!0}t.exports=u},3615:function(t,e,n){var r=n(851),o=n(3611),i=n(9761),a=n(6602),u=n(2322);function s(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):u(t)}t.exports=s},851:function(t,e,n){var r=n(1955),o=n(4167),i=n(8497);function a(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}t.exports=a},3611:function(t,e,n){var r=n(3409),o=n(5309),i=n(8208),a=n(9020),u=n(9769),s=n(8497),c=n(8952),f=1,l=2;function v(t,e){return a(t)&&u(e)?s(c(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,f|l)}}t.exports=v},8638:function(t){function e(t){return function(e){return null==e?void 0:e[t]}}t.exports=e},4568:function(t,e,n){var r=n(7727);function o(t){return function(e){return r(e,t)}}t.exports=o},4274:function(t){function e(t,e){return t.has(e)}t.exports=e},1686:function(t){function e(t){return function(e,n,r){var o=-1,i=Object(e),a=r(e),u=a.length;while(u--){var s=a[t?u:++o];if(!1===n(i[s],s,i))break}return e}}t.exports=e},475:function(t,e,n){var r=n(6355),o=n(5043),i=n(4274),a=1,u=2;function s(t,e,n,s,c,f){var l=n&a,v=t.length,p=e.length;if(v!=p&&!(l&&p>v))return!1;var d=f.get(t),h=f.get(e);if(d&&h)return d==e&&h==t;var _=-1,b=!0,w=n&u?new r:void 0;f.set(t,e),f.set(e,t);while(++_<v){var g=t[_],y=e[_];if(s)var x=l?s(y,g,_,e,t,f):s(g,y,_,t,e,f);if(void 0!==x){if(x)continue;b=!1;break}if(w){if(!o(e,(function(t,e){if(!i(w,e)&&(g===t||c(g,t,n,s,f)))return w.push(e)}))){b=!1;break}}else if(g!==y&&!c(g,y,n,s,f)){b=!1;break}}return f["delete"](t),f["delete"](e),b}t.exports=s},4673:function(t,e,n){var r=n(9016),o=n(6522),i=n(3307),a=n(475),u=n(7317),s=n(6804),c=1,f=2,l="[object Boolean]",v="[object Date]",p="[object Error]",d="[object Map]",h="[object Number]",_="[object RegExp]",b="[object Set]",w="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",x="[object DataView]",j=r?r.prototype:void 0,m=j?j.valueOf:void 0;function k(t,e,n,r,j,k,S){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case y:return!(t.byteLength!=e.byteLength||!k(new o(t),new o(e)));case l:case v:case h:return i(+t,+e);case p:return t.name==e.name&&t.message==e.message;case _:case w:return t==e+"";case d:var z=u;case b:var D=r&c;if(z||(z=s),t.size!=e.size&&!D)return!1;var O=S.get(t);if(O)return O==e;r|=f,S.set(t,e);var L=a(z(t),z(e),r,j,k,S);return S["delete"](t),L;case g:if(m)return m.call(t)==m.call(e)}return!1}t.exports=k},6472:function(t,e,n){var r=n(4823),o=1,i=Object.prototype,a=i.hasOwnProperty;function u(t,e,n,i,u,s){var c=n&o,f=r(t),l=f.length,v=r(e),p=v.length;if(l!=p&&!c)return!1;var d=l;while(d--){var h=f[d];if(!(c?h in e:a.call(e,h)))return!1}var _=s.get(t),b=s.get(e);if(_&&b)return _==e&&b==t;var w=!0;s.set(t,e),s.set(e,t);var g=c;while(++d<l){h=f[d];var y=t[h],x=e[h];if(i)var j=c?i(x,y,h,e,t,s):i(y,x,h,t,e,s);if(!(void 0===j?y===x||u(y,x,n,i,s):j)){w=!1;break}g||(g="constructor"==h)}if(w&&!g){var m=t.constructor,k=e.constructor;m==k||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof k&&k instanceof k||(w=!1)}return s["delete"](t),s["delete"](e),w}t.exports=u},4823:function(t,e,n){var r=n(6699),o=n(1165),i=n(4337);function a(t){return r(t,i,o)}t.exports=a},4167:function(t,e,n){var r=n(9769),o=n(4337);function i(t){var e=o(t),n=e.length;while(n--){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}t.exports=i},1165:function(t,e,n){var r=n(4802),o=n(3538),i=Object.prototype,a=i.propertyIsEnumerable,u=Object.getOwnPropertySymbols,s=u?function(t){return null==t?[]:(t=Object(t),r(u(t),(function(e){return a.call(t,e)})))}:o;t.exports=s},453:function(t,e,n){var r=n(2573),o=n(9014),i=n(809),a=n(1611),u=n(3147),s=n(6423),c=n(627),f="[object Map]",l="[object Object]",v="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",_=c(r),b=c(o),w=c(i),g=c(a),y=c(u),x=s;(r&&x(new r(new ArrayBuffer(1)))!=h||o&&x(new o)!=f||i&&x(i.resolve())!=v||a&&x(new a)!=p||u&&x(new u)!=d)&&(x=function(t){var e=s(t),n=e==l?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case _:return h;case b:return f;case w:return v;case g:return p;case y:return d}return e}),t.exports=x},9769:function(t,e,n){var r=n(150);function o(t){return t===t&&!r(t)}t.exports=o},7317:function(t){function e(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}t.exports=e},8497:function(t){function e(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=e},868:function(t){var e="__lodash_hash_undefined__";function n(t){return this.__data__.set(t,e),this}t.exports=n},8451:function(t){function e(t){return this.__data__.has(t)}t.exports=e},6804:function(t){function e(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}t.exports=e},846:function(t,e,n){var r=n(5094);function o(){this.__data__=new r,this.size=0}t.exports=o},1353:function(t){function e(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}t.exports=e},2334:function(t){function e(t){return this.__data__.get(t)}t.exports=e},252:function(t){function e(t){return this.__data__.has(t)}t.exports=e},1538:function(t,e,n){var r=n(5094),o=n(9014),i=n(8082),a=200;function u(t,e){var n=this.__data__;if(n instanceof r){var u=n.__data__;if(!o||u.length<a-1)return u.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(u)}return n.set(t,e),this.size=n.size,this}t.exports=u},5309:function(t,e,n){var r=n(7727);function o(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}t.exports=o},8054:function(t,e,n){var r=n(3883),o=n(6380),i=n(3615);function a(t,e){var n={};return e=i(e,3),o(t,(function(t,o,i){r(n,o,e(t,o,i))})),n}t.exports=a},2322:function(t,e,n){var r=n(8638),o=n(4568),i=n(9020),a=n(8952);function u(t){return i(t)?r(a(t)):o(t)}t.exports=u},3538:function(t){function e(){return[]}t.exports=e},6153:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return z}});var r=n(3396),o=n(7139);const i=t=>((0,r.dD)("data-v-58b55b8f"),t=t(),(0,r.Cn)(),t),a={class:"stats"},u={key:0},s={key:1},c={key:2},f={class:"administered"},l=(0,r.Uk)(" doses administered "),v={class:"distributed"},p=(0,r.Uk)(" doses distributed "),d={class:"inStock"},h=(0,r.Uk)(" locations in stock "),_={class:"total"},b=(0,r.Uk)(" total locations "),w={key:0},g=i((()=>(0,r._)("a",{href:"/"},"go back",-1)));function y(t,e,n,i,y,x){return(0,r.wg)(),(0,r.iD)("div",a,[y.isLoading?((0,r.wg)(),(0,r.iD)("h1",u,"Loading...")):y.isError?((0,r.wg)(),(0,r.iD)("h1",s,"Error loading CDC data. Try again later.")):((0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("h1",f,[(0,r._)("strong",null,(0,o.zw)(y.stats.rollout.administered),1),l]),(0,r._)("h2",v,[(0,r._)("strong",null,(0,o.zw)(y.stats.rollout.distributed),1),p]),(0,r._)("h1",d,[(0,r._)("strong",null,(0,o.zw)(y.stats.availability.inStock),1),h]),(0,r._)("h2",_,[(0,r._)("strong",null,(0,o.zw)(y.stats.availability.total),1),b]),y.updateDate?((0,r.wg)(),(0,r.iD)("p",w," data last updated by the CDC on "+(0,o.zw)(new Date(y.updateDate).toLocaleDateString()),1)):(0,r.kq)("",!0)])),g])}var x=n(8054),j=n.n(x),m={name:"StatsView",data(){return{isError:!1,isLoading:!0,updateDate:null,stats:{availability:{inStock:"0",total:"0"},rollout:{administered:"0",distributed:"0"}}}},methods:{async getRolloutStats(){const t=await fetch("https://data.cdc.gov/api/id/unsk-b7fc.json?$query="+encodeURIComponent("select *, :id where (upper(`location`) = upper('us')) limit 1")),e=await t.json();return this.updateDate=t.headers.get("last-modified"),e[0]},async getAvailabilityStats(t=!1){let e="select *, :id where ((contains(upper(`med_name`), upper('novavax')))";t&&(e+=" and (`in_stock` = true)"),e+=") ",e+="|> select count(*) as __count_alias__",e=encodeURIComponent(e);const n=`https://data.cdc.gov/api/id/5jp2-pgaw.json?$query=${e}`,r=await fetch(n),o=await r.json();return Number(o[0].__count_alias__).toLocaleString()}},async mounted(){try{const[t,e,n]=await Promise.all([this.getRolloutStats(),this.getAvailabilityStats(!0),this.getAvailabilityStats(!1)]);this.stats.rollout=j()({administered:t.administered_novavax,distributed:t.distributed_novavax},(t=>Number(t).toLocaleString())),this.stats.availability={inStock:e,total:n}}catch(t){console.error(t),this.isError=!0}this.isLoading=!1}},k=n(89);const S=(0,k.Z)(m,[["render",y],["__scopeId","data-v-58b55b8f"]]);var z=S}}]);
//# sourceMappingURL=stats.217e544f.js.map